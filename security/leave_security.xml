<?xml version="1.0" encoding="utf-8"?>
<odoo>
 
   <record id="module_category_employee_leave_request_tracker" model="ir.module.category">
        <field name="name">Leave Request Tracker</field>
        <field name="sequence">5</field>
    </record>
   

   <record id="group_leave_employee" model="res.groups">
       <field name="name">User: Employee</field>
       <field name="category_id" ref="employee_leave_request_tracker.module_category_employee_leave_request_tracker"/>
         <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
   
   </record>
   

   <record id="group_leave_manager" model="res.groups">
    <field name="name">User:Leave Manager</field>
    <field name="category_id" ref="employee_leave_request_tracker.module_category_employee_leave_request_tracker"/>
      <field name="implied_ids" eval="[(4, ref('employee_leave_request_tracker.group_leave_employee'))]"/>

   </record>


   <record id="group_hr_admin" model="res.groups">
       <field name="name">HR Admin</field>
       <field name="category_id" ref="employee_leave_request_tracker.module_category_employee_leave_request_tracker"/>
        <field name="implied_ids" eval="[(4, ref('employee_leave_request_tracker.group_leave_manager'))]"/>

   </record>



  <record id="rule_employee_own_leave" model="ir.rule">
    <field name="name">Employee: View own leaves only</field>
    <field name="model_id" ref="hr_holidays.model_hr_leave"/>
    <field name="groups" eval="[(4, ref('employee_leave_request_tracker.group_leave_employee'))]"/>
    <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
</record>


   <record id="rule_manager_own_department_leave" model="ir.rule">
    <field name="name">Manager: View own department leaves only</field>
    <field name="model_id" ref="hr_holidays.model_hr_leave"/>
    <field name="groups" eval="[(4, ref('employee_leave_request_tracker.group_leave_manager'))]"/>
    <field name="domain_force">[('employee_id.department_id.manager_id.user_id', '=', user.id)]</field>
</record>



   <record id="rule_hr_admin_full_access" model="ir.rule">
    <field name="name">HR Admin: Full access</field>
    <field name="model_id" ref="hr_holidays.model_hr_leave"/>
    <field name="groups" eval="[(4, ref('employee_leave_request_tracker.group_hr_admin'))]"/>
    <field name="domain_force">[(1, '=', 1)]</field>
</record>


</odoo>



 